{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["\"use strict\";\n\nconst palettesContainer = document.querySelector(\".js-palettes-container\");\nconst filterInput = document.querySelector(\".js-filter\");\nconst formElement = document.querySelector(\".js-form\");\n\nlet palettes = [];\n\n// api - metemos todo en funciones. TODO\n\nfunction getDataFromApi() {\n  fetch(\n    \"https://beta.adalab.es/ejercicios-extra/js-ejercicio-de-paletas/data/palettes.json\"\n  )\n    .then((response) => response.json())\n    .then((data) => {\n      // al coger datos, limpiar lo que no necesitamos console.log(data) => console.log(data.palettes)\n      palettes = data.palettes;\n      paintPalettes();\n      setInLocalStorage();\n    });\n}\n\n// local storage\n\nfunction setInLocalStorage() {\n  const stringPalettes = JSON.stringify(palettes);\n  localStorage.setItem(\"palettes\", stringPalettes);\n\n  // menos legible, mas pro: si trabajamos con gente senior bien, si hay muchos junior, mejor mas legible; para entrevista tecnica, tb mejor un poco más legible para que se vea lo que está haciendo cada parte del código\n  // localStorage.setItem(\"palettes\", JSON.stringify(palettes));\n}\n\n// se puede dividir en dos partes: primero compruebo si hay datos en LS; en caso que si, ejecuto getFromLocalStorage, si no ejecuto getDataFromApi\nfunction getFromLocalStorage() {\n  const localStoragePalettes = localStorage.getItem(\"palettes\");\n  // if (localStoragePalettes === null)\n  if (!localStoragePalettes) {\n    getDataFromApi();\n  } else {\n    const arrayPalettes = JSON.parse(localStoragePalettes);\n    palettes = arrayPalettes;\n    paintPalettes();\n  }\n}\n\n// filter\n\nfunction handleFilter() {\n  console.log(\"filtrando...\");\n  paintPalettes();\n}\n\nfilterInput.addEventListener(\"keyup\", handleFilter);\n\n// submit form\n\nfunction handleForm(ev) {\n  ev.preventDefault();\n}\n\nformElement.addEventListener(\"submit\", handleForm);\n\n// paint\n\nfunction paintPalettes() {\n  // para comprobar que los tengo: console.log(\"pintando...\", palettes)\n  let html = \"\";\n  for (const palette of palettes) {\n    if (palette.name.toLowerCase().includes(filterInput.value.toLowerCase())) {\n      html += `<li class=\"palette\">`;\n    } else {\n      html += `<li class=\"palette palette--hidden\">`;\n    }\n    html += `<h2 class=\"palette__title\">${palette.name}</h2>`;\n    html += `<div class=\"palette__colors\">`;\n    for (const color of palette.colors) {\n      html += `<div class=\"palette__color\" style=\"background-color: #${color}\"></div>`;\n    }\n    html += `</div>`;\n    html += `</li>`;\n  }\n  palettesContainer.innerHTML = html;\n}\n\n// start app\n\ngetFromLocalStorage();\n"]}